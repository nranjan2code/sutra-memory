[package]
name = "sutra-grid-agent"
version = "0.1.0"
edition = "2021"

[dependencies]
# TCP protocol for Grid
sutra-protocol = { path = "../sutra-protocol" }
bincode = "2.0"

# Async and utilities
tokio = { version = "1", features = ["full"] }
env_logger = "0.11"
log = "0.4"
anyhow = "1.0"
serde = { version = "1.0", features = ["derive"] }
toml = "0.8"
hostname = "0.4"
chrono = "0.4"
sutra-grid-events = { path = "../sutra-grid-events" }
async-trait = "0.1"
futures = "0.3"

# Platform adapters (optional)
bollard = { version = "0.17", optional = true }
kube = { version = "0.95", optional = true }
k8s-openapi = { version = "0.23", features = ["v1_30"], optional = true }

[features]
default = ["platform-process"]
platform-docker = ["bollard"]
platform-kubernetes = ["kube", "k8s-openapi"]
platform-process = []
all-platforms = ["platform-docker", "platform-kubernetes", "platform-process"]
